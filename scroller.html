<!DOCTYPE html>
<html>
<head>
</head>
  <body>
  <canvas id="myCanvas" height="500" width="500"></canvas>

  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script>
  var canvas = document.getElementById('myCanvas');
  var ctx = canvas.getContext('2d');

  var backgroundImage = new Image();
  backgroundImage.src = "./images/grass.gif";

  var heroImage = new Image();
  heroImage.src = "./images/dog.png";

  var hero = {
    x: 0,
    y: 0
  };

  var keysDown = {};
  addEventListener("keydown", function(e){
    keysDown[e.keyCode] = true;
  }, false);

  addEventListener("keyup", function(e){
    delete keysDown[e.keyCode];
  },false);


  var reset = function(){
    hero.x = canvas.width/2;
    hero.y = canvas.height/2;
  };


  var update = function(modifier){
    if(38 in keysDown){
      hero.y --;
    }
    if(40 in keysDown){
      hero.y ++;
    }
    if(37 in keysDown){
      hero.x --;
    }
    if(39 in keysDown){
      hero.x ++;
    }
    if(32 in keysDown){
      reset();
    }
  };



  var render = function(){
    var drawX = 0;
    var drawY = 0;

    for(var i = 0; i<10; i++){
      for(var j = 0; j<10; j++){
        ctx.drawImage(backgroundImage, drawX, drawY);
        drawX+=50;
      }
      drawY += 50;
      drawX = 0;
    }
    ctx.drawImage(heroImage, hero.x, hero.y);
  };


  var main = function(){
    var now = Date.now();
    var delta = now - then;
    update(delta/1000);
    render();

    then = now;

    requestAnimationFrame(main);
  };

    var w = window;
  requestAnimationFrame = w.requestAnimationFrame || w.webkitRequestAnimationFrame || w.msRequestAnimationFrame || w.mozRequestAnimationFrame;


  var then = Date.now();
  reset();
  main();
  </script>
</html>


